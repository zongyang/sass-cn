(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{231:function(a,s,t){"use strict";t.r(s);var r=t(2),e=Object(r.a)({},function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"迁移器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#迁移器","aria-hidden":"true"}},[a._v("#")]),a._v(" 迁移器")]),a._v(" "),t("vp-ad-top"),a._v(" "),t("p",[a._v("Sass迁移器会自动更新您的Sass文件，以帮助您迁移到该语言的最新和最好的版本。它的每个命令都迁移一个单独的特性，以便尽可能多地控制更新的内容和更新的时间。")]),a._v(" "),t("h2",{attrs:{id:"使用方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用方法","aria-hidden":"true"}},[a._v("#")]),a._v(" 使用方法")]),a._v(" "),t("p",[a._v("告诉Sass迁移器您想要运行的"),t("a",{attrs:{href:"#%E8%BF%81%E7%A7%BB"}},[a._v("迁移")]),a._v("和您想要迁移的Sass文件：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sass-migrator <migration> <entrypoint.scss...>\n")])])]),t("p",[a._v("默认情况下，迁移器将只更改您在命令行上显式传递的文件。传递"),t("a",{attrs:{href:"#migrate-deps"}},[a._v("--migrate-deps")]),a._v("选项告诉迁移器要更改使用"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("@use规则")]),a._v("、"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("@forward规则")]),a._v("或"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("@import规则")]),a._v("加载的所有样式表。如果您想做一个测试运行，看看在不实际保存更改的情况下会做哪些更改，那么您可以传递"),t("a",{attrs:{href:"#dry-run"}},[a._v("--dry-run")]),a._v(" "),t("a",{attrs:{href:"#verbose"}},[a._v("--verbose")]),a._v("（或者缩写"),t("code",[a._v("-nv")]),a._v("）选项。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('$ cat style.scss\n$body-bg: #000;\n$body-color: #111;\n\n@import "bootstrap";\n\n@include media-breakpoint-up(sm) {\n  .navbar {\n    display: block;\n  }\n}\n$ sass-migrator --migrate-deps module style.scss\n$ cat style.scss\n@use "bootstrap" with (\n  $body-bg: #000,\n  $body-color: #111\n);\n\n@include bootstrap.media-breakpoint-up(sm) {\n  .navbar {\n    display: block;\n  }\n}\n')])])]),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("p",[a._v("在可以安装"),t("a",{attrs:{href:"https://sass-lang.com/dart-sass",target:"_blank",rel:"noopener noreferrer"}},[a._v("Dart Sass"),t("OutboundLink")],1),a._v("的地方基本上都可以安装迁移器。")]),a._v(" "),t("h3",{attrs:{id:"独立安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#独立安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 独立安装")]),a._v(" "),t("p",[a._v("Windows、Mac或Linux都可以安装Sass迁移器，从"),t("a",{attrs:{href:"https://github.com/sass/migrator/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("GitHub"),t("OutboundLink")],1),a._v("下载对应系统的安装包，并配置好"),t("a",{attrs:{href:"https://katiek2.github.io/path-doc/",target:"_blank",rel:"noopener noreferrer"}},[a._v("环境变量"),t("OutboundLink")],1),a._v("。")]),a._v(" "),t("h3",{attrs:{id:"npm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm","aria-hidden":"true"}},[a._v("#")]),a._v(" npm")]),a._v(" "),t("p",[a._v("如果您使用的是Node.js，可以通过npm安装Sass迁移器。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install -g sass-migrator\n")])])]),t("h3",{attrs:{id:"chocolatey"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chocolatey","aria-hidden":"true"}},[a._v("#")]),a._v(" Chocolatey")]),a._v(" "),t("p",[a._v("如果您使用Windows系统下的"),t("a",{attrs:{href:"https://chocolatey.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Chocolatey包管理器"),t("OutboundLink")],1),a._v("，可以通过以下命令来安装Sass迁移器。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("choco install sass-migrator\n")])])]),t("h3",{attrs:{id:"homebrew"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#homebrew","aria-hidden":"true"}},[a._v("#")]),a._v(" Homebrew")]),a._v(" "),t("p",[a._v("如果您使用Mac OS X下的"),t("a",{attrs:{href:"https://chocolatey.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Homebrew包管理器"),t("OutboundLink")],1),a._v("，可以通过以下命令来安装Dart Sass。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("brew install sass/sass/migrator\n")])])]),t("h2",{attrs:{id:"全局选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局选项","aria-hidden":"true"}},[a._v("#")]),a._v(" 全局选项")]),a._v(" "),t("p",[a._v("所有迁移器都可以使用这些全局选项。")]),a._v(" "),t("h3",{attrs:{id:"migrate-deps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#migrate-deps","aria-hidden":"true"}},[a._v("#")]),a._v(" --migrate-deps")]),a._v(" "),t("p",[a._v("此选项（缩写为"),t("code",[a._v("-d")]),a._v("）告诉迁移器不仅要更改在命令行上显式传递的样式表，还要更改依赖于使用"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("@use规则")]),a._v("、"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("@forward规则")]),a._v("或"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("@import规则")]),a._v("的样式表。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ sass-migrator module --verbose style.scss\nMigrating style.scss\n$ sass-migrator module --verbose --migrate-deps style.scss\nMigrating style.scss\nMigrating _theme.scss\nMigrating _fonts.scss\n")])])]),t("div",{staticClass:"warning custom-block"},[t("p",[t("a",{attrs:{href:"#%E6%A8%A1%E5%9D%97"}},[a._v("模块迁移器")]),a._v("假设任何依赖于使用"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("@use规则")]),a._v("或"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("@forward规则")]),a._v("的样式表都已经迁移到模块系统，因此即使传递了"),t("code",[a._v("--migrate-deps")]),a._v("选项，它也不会尝试迁移它们。")])]),a._v(" "),t("h3",{attrs:{id:"load-path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#load-path","aria-hidden":"true"}},[a._v("#")]),a._v(" --load-path")]),a._v(" "),t("p",[a._v("这个选项（缩写为"),t("code",[a._v("-I")]),a._v("）告诉迁移器一个"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("加载路径")]),a._v("，它应该在其中查找样式表。它可以被多次传递以提供多个加载路径。较早的加载路径将优先于较晚的加载路径。")]),a._v(" "),t("p",[a._v("从加载路径加载的依赖项被假定为第三方库，因此即使传递了"),t("a",{attrs:{href:"#migrate-deps"}},[a._v("--migrate-deps")]),a._v("选项，迁移器也不会迁移它们。")]),a._v(" "),t("h3",{attrs:{id:"dry-run"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dry-run","aria-hidden":"true"}},[a._v("#")]),a._v(" --dry-run")]),a._v(" "),t("p",[a._v("此标志（缩写为"),t("code",[a._v("-n")]),a._v("）告诉迁移器不要将任何更改保存到磁盘。相反，它会打印将要更改的文件列表。这通常"),t("a",{attrs:{href:"#verbose"}},[a._v("--verbose")]),a._v("选项一起使用，以打印本应该进行的更改的内容。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ sass-migrator module --dry-run --migrate-deps style.scss\nDry run. Logging migrated files instead of overwriting...\n\nstyle.scss\n_theme.scss\n_fonts.scss\n_grid.scss\n")])])]),t("h3",{attrs:{id:"no-unicode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#no-unicode","aria-hidden":"true"}},[a._v("#")]),a._v(" --no-unicode")]),a._v(" "),t("p",[a._v("此标志告诉Sass迁移器仅将ASCII字符作为错误消息的一部分发送到终端。默认情况下，或者如果传递了"),t("code",[a._v("--unicode")]),a._v("，迁移器将为这些消息发出非ASCII字符。此标记不影响CSS输出。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ sass-migrator --no-unicode module style.scss\nline 1, column 9 of style.scss: Error: Could not find Sass file at 'typography'.\n  ,\n1 | @import \"typography\";\n  |         ^^^^^^^^^^^^\n  '\nMigration failed!\n$ sass-migrator --unicode module style.scss\nline 1, column 9 of style.scss: Error: Could not find Sass file at 'typography'.\n  ╷\n1 │ @import \"typography\";\n  │         ^^^^^^^^^^^^\n  ╵\nMigration failed!\n")])])]),t("h3",{attrs:{id:"verbose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#verbose","aria-hidden":"true"}},[a._v("#")]),a._v(" --verbose")]),a._v(" "),t("p",[a._v("这个标志（缩写为"),t("code",[a._v("-v")]),a._v("）告诉迁移器将额外的信息打印到控制台。默认情况下，它只打印已更改文件的名称，但是当与"),t("a",{attrs:{href:"#dry-run"}},[a._v("--dry-run")]),a._v("选项结合使用时，它还打印这些文件更改的内容。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('$ sass-migrator module --verbose --dry-run style.scss\nDry run. Logging migrated files instead of overwriting...\n<==> style.scss\n@use "bootstrap" with (\n  $body-bg: #000,\n  $body-color: #111\n);\n\n@include bootstrap.media-breakpoint-up(sm) {\n  .navbar {\n    display: block;\n  }\n}\n$ sass-migrator module --verbose style.scss\nMigrating style.scss\n')])])]),t("h2",{attrs:{id:"迁移"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#迁移","aria-hidden":"true"}},[a._v("#")]),a._v(" 迁移")]),a._v(" "),t("p",[a._v("迁移器目前只支持一种迁移，但是随着Sass语言的不断发展，还会支持更多迁移！")]),a._v(" "),t("h3",{attrs:{id:"模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模块","aria-hidden":"true"}},[a._v("#")]),a._v(" 模块")]),a._v(" "),t("p",[a._v("此迁移将旧的"),t("a",{attrs:{href:""}},[a._v("@import规则")]),a._v("加载依赖项转换为通过"),t("a",{attrs:{href:""}},[a._v("@use规则")]),a._v("加载。它不会天真地将"),t("code",[a._v("@import")]),a._v("更改为"),t("code",[a._v("@uses")]),a._v("-它会智能地更新样式表，使它们保持与以前相同的工作方式，包括：")]),a._v(" "),t("ul",[t("li",[a._v("将命名空间加到其它使用到了的模块成员（变量、混合器和函数）。")]),a._v(" "),t("li",[a._v("向使用成员的样式表添加新的"),t("code",[a._v("@use")]),a._v("规则，但不导入它们。")]),a._v(" "),t("li",[a._v("将覆盖的默认变量转换为"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("with子句")]),a._v("。")]),a._v(" "),t("li",[a._v("在其它使用到的成员文件中自动删除"),t("code",[a._v("-")]),a._v("和"),t("code",[a._v("_")]),a._v("前缀（因为否则它们将被认为是"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("私有")]),a._v("的，只能在声明它们的模块中使用）。")]),a._v(" "),t("li",[a._v("将"),t("router-link",{attrs:{to:"/api/AtRules/Import.html#嵌套"}},[a._v("嵌套导入")]),a._v("转换为使用"),t("a",{attrs:{href:"%E5%BE%85%E7%A1%AE%E5%AE%9A"}},[a._v("meta.load-css() mixin")]),a._v("。")],1)]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('$ cat style.scss\n$body-bg: #000;\n$body-color: #111;\n\n@import "bootstrap";\n\n@include media-breakpoint-up(sm) {\n  .navbar {\n    display: block;\n  }\n}\n$ sass-migrator --migrate-deps module style.scss\n$ cat style.scss\n@use "bootstrap" with (\n  $body-bg: #000,\n  $body-color: #111\n);\n\n@include bootstrap.media-breakpoint-up(sm) {\n  .navbar {\n    display: block;\n  }\n}\n')])])]),t("div",{staticClass:"warning custom-block"},[t("p",[a._v("因为模块迁移器可能需要修改成员定义和成员名称，所以使用"),t("a",{attrs:{href:"#migrate-deps"}},[a._v("--migrate-deps")]),a._v("或者确保将包或应用程序中的所有样式表传递给它是很重要的。")])]),a._v(" "),t("h3",{attrs:{id:"加载依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载依赖","aria-hidden":"true"}},[a._v("#")]),a._v(" 加载依赖")]),a._v(" "),t("p",[a._v("即使没有传递"),t("a",{attrs:{href:"#migrate-deps"}},[a._v("--migrate-deps")]),a._v("选项，模块迁移器也需要能够读取它所迁移的模块所依赖的所有样式表。如果迁移器未能找到依赖项，您将得到一个错误。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ ls .\nstyle.scss  node_modules\n$ sass-migrator module style.scss\nError: Could not find Sass file at 'dependency'.\n  ,\n1 | @import \"dependency\";\n  |         ^^^^^^^^^^^^\n  '\n  style.scss 1:9  root stylesheet\nMigration failed!\n$ sass-migrator --load-path node_modules module style.scss\n")])])]),t("p",[a._v("如果在编译样式表时使用"),t("a",{attrs:{href:""}},[a._v("加载路径")]),a._v("，请确保使用"),t("a",{attrs:{href:"#load-path"}},[a._v("--load-path")]),a._v("选项将其传递给迁移器。")]),a._v(" "),t("p",[a._v("不幸的是，迁移器不支持自定义导入器，但是它有内置的支持，可以通过在"),t("code",[a._v("node_modules")]),a._v("中搜索来解析以"),t("code",[a._v("~")]),a._v("开头的url，这与"),t("a",{attrs:{href:"https://github.com/webpack-contrib/sass-loader#resolving-import-at-rules",target:"_blank",rel:"noopener noreferrer"}},[a._v("Webpack所支持的"),t("OutboundLink")],1),a._v("类似。")]),a._v(" "),t("h4",{attrs:{id:"remove-prefix"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#remove-prefix","aria-hidden":"true"}},[a._v("#")]),a._v(" --remove-prefix")]),a._v(" "),t("h4",{attrs:{id:"forward"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#forward","aria-hidden":"true"}},[a._v("#")]),a._v(" --forward")])],1)},[],!1,null,null,null);s.default=e.exports}}]);